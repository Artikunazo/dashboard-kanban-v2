<p-drawer
	[(visible)]="drawerVisible"
	[closable]="drawerClosable"
	styleClass="!w-full md:!w-80 lg:!w-[30rem]"
  header="{{ drawerHeader }}"
>
	<div class="sidebar-options">
		@defer {
			@for (board of boards$ | async; track board.id) {
				<div class="add-board-item">
					<span
						(click)="loadTasksByBoard(board)"
						aria-hidden="true"
					>
						{{ board.title }}
					</span>
          <!-- <button mat-icon-button (click)="editBoard(board)"><i class="pi pi-pencil"></i></button> -->
					<button>
						<i class="pi pi-ellipsis-v"></i>
					</button>
				</div>
			}
		} @loading {
			<div class="row justify-items-center">
				<p-progress-spinner
					strokeWidth="6"
					ariaLabel="loading"
					[style]="{width: '70px', height: '70px'}"
				/>
			</div>
		}

		<div class="add-board-item">
			<button
				pTooltip="Create new board"
				(click)="showNewBoardDialog()"
			>
				<i class="pi pi-plus"></i>
			</button>
		</div>
	</div>

	<ng-template #footer>
		<theme-switcher (switcherToggled)="closeDrawer()" />
	</ng-template>
</p-drawer>

<section>
	<toolbar
		(openNav)="toggleDrawer()"
		(createTaskClicked)="openCreateTaskModal($event)"
	/>

	<div class="px-4 pt-1">
		<kanban-board />
	</div>
</section>
