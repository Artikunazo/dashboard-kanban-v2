<p-drawer
	[(visible)]="drawerVisible"
	[closable]="drawerClosable"
	styleClass="!w-full md:!w-80 lg:!w-[30rem]"
  header="{{ drawerHeader }}"
>
	<div class="sidebar-options">
		@defer {
			@for (board of boards(); track board.id) {
				<div class="add-board-item flex justify-between cursor-pointer hover:bg-gray-100 my-3" (click)="loadTasksByBoard(board)">
					<span						
						aria-hidden="true"
					>
						{{ board.title }}
					</span>
					<p-menu #menu [model]="menuItems" [popup]="true" />
					<p-button severity="secondary" size="small" (click)="menu.toggle($event)" icon="pi pi-ellipsis-v"/>
				</div>
			}
		} @loading {
			<div class="flex justify-items-center">
				<p-progress-spinner
					strokeWidth="6"
					ariaLabel="loading"
					[style]="{width: '70px', height: '70px'}"
				/>
			</div>
		}

		<div class="add-new-board">
			<button
				pTooltip="Create new board"
				(click)="showNewBoardDialog()"
			>
				<i class="pi pi-plus"></i>
			</button>
		</div>
	</div>

	<ng-template #footer>
		<theme-switcher (switcherToggled)="closeDrawer()" />
	</ng-template>
</p-drawer>

<section>
	<toolbar
		(openNav)="toggleDrawer()"
		(createTaskClicked)="openCreateTaskModal($event)"
	/>

	<div class="px-4 pt-1">
		<kanban-board />
	</div>
</section>
